"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7722],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>k});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=d(n),c=r,k=m["".concat(s,".").concat(c)]||m[c]||p[c]||l;return n?a.createElement(k,o(o({ref:t},u),{},{components:n})):a.createElement(k,o({ref:t},u))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,o=new Array(l);o[0]=c;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[m]="string"==typeof e?e:r,o[1]=i;for(var d=2;d<l;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},6742:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>d});var a=n(7462),r=(n(7294),n(3905));const l={sidebar_position:16,tags:["Linux","XDG","Automatic","Shutdown"]},o="GRUB",i={unversionedId:"linux/other",id:"linux/other",title:"GRUB",description:"File:",source:"@site/docs/linux/other.md",sourceDirName:"linux",slug:"/linux/other",permalink:"/Wisdom-Hub/linux/other",draft:!1,tags:[{label:"Linux",permalink:"/Wisdom-Hub/tags/linux"},{label:"XDG",permalink:"/Wisdom-Hub/tags/xdg"},{label:"Automatic",permalink:"/Wisdom-Hub/tags/automatic"},{label:"Shutdown",permalink:"/Wisdom-Hub/tags/shutdown"}],version:"current",sidebarPosition:16,frontMatter:{sidebar_position:16,tags:["Linux","XDG","Automatic","Shutdown"]},sidebar:"tutorialSidebar",previous:{title:"process",permalink:"/Wisdom-Hub/linux/processes"},next:{title:"Network",permalink:"/Wisdom-Hub/network/"}},s={},d=[{value:"Regenerate grub.cfg",id:"regenerate-grubcfg",level:2},{value:"Fixing broken grub",id:"fixing-broken-grub",level:2},{value:"Easy method using Manjaro Live",id:"easy-method-using-manjaro-live",level:3},{value:"General method",id:"general-method",level:3},{value:"Init",id:"init",level:2},{value:"Scripts and programs locations",id:"scripts-and-programs-locations",level:2},{value:"Reading symlinks",id:"reading-symlinks",level:2},{value:"System Info",id:"system-info",level:2},{value:"Disable Linux Watchdogs, compaction and more",id:"disable-linux-watchdogs-compaction-and-more",level:2},{value:"Improve fstab, ssd, nvme performance",id:"improve-fstab-ssd-nvme-performance",level:2},{value:"Disabling journaling",id:"disabling-journaling",level:2},{value:"Journal Size",id:"journal-size",level:2},{value:"Backup data",id:"backup-data",level:2},{value:"Restore",id:"restore",level:2},{value:"Enable Developer options",id:"enable-developer-options",level:2},{value:"Install odin tools for Samsung &gt;= 3.14",id:"install-odin-tools-for-samsung--314",level:2},{value:"Install samsung driver",id:"install-samsung-driver",level:2},{value:"Install adb",id:"install-adb",level:2},{value:"Download TWRP",id:"download-twrp",level:2},{value:"convert it to .md5",id:"convert-it-to-md5",level:2},{value:"Run Odin as administrator",id:"run-odin-as-administrator",level:2},{value:"Make boatable usb",id:"make-boatable-usb",level:2},{value:"WoeUsb",id:"woeusb",level:2},{value:"Win2USB",id:"win2usb",level:2},{value:"Things to do after installing Windows 11",id:"things-to-do-after-installing-windows-11",level:2}],u={toc:d},m="wrapper";function p(e){let{components:t,...n}=e;return(0,r.kt)(m,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"grub"},"GRUB"),(0,r.kt)("p",null,"File:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"/etc/default/grub"),(0,r.kt)("li",{parentName:"ul"},"/etc/grub.d/"),(0,r.kt)("li",{parentName:"ul"},"/boot/grub/grub.cfg"),(0,r.kt)("li",{parentName:"ul"},"/boot/efi/EFI/"),(0,r.kt)("li",{parentName:"ul"},"/boot/grub/x86_64-efi/")),(0,r.kt)("h2",{id:"regenerate-grubcfg"},"Regenerate grub.cfg"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo grub-mkconfig -o /boot/grub/grub.cfg\n")),(0,r.kt)("h2",{id:"fixing-broken-grub"},"Fixing broken grub"),(0,r.kt)("h3",{id:"easy-method-using-manjaro-live"},"Easy method using Manjaro Live"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Boot a live Manjaro image")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo manjaro-chroot -a\ngrub-install\nupdate-grub\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"It will detect your current installed linux.  Restart the computer and it will boot the installed linux.",(0,r.kt)("br",{parentName:"p"}),"\n","Then run:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"update-grub\n")),(0,r.kt)("h3",{id:"general-method"},"General method"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# Mount the file system and efi partition\nsudo mount /dev/nvme0n1p4 /mnt\nsudo mount --bind /dev /mnt/dev\nsudo mount --bind /dev/pts /mnt/dev/pts\nsudo mount --bind /proc /mnt/proc\nsudo mount --bind /sys /mnt/sys\nsudo mkdir /efi\nsudo mount /dev/nvme0n1p1 /efi\n\n# Install grub and update grub configuration\nsudo grub-install --root-directory=/mnt/ /dev/nvme0 --efi-directory=/efi --target=x86_64-efi --recheck\nsudo chroot /mnt\nsudo blkid -s UUID -o value /dev/nvme0n1p1\nnano /etc/fstab\nsudo update-grub\n")),(0,r.kt)("h1",{id:"autostart"},"Autostart"),(0,r.kt)("h2",{id:"init"},"Init"),(0,r.kt)("p",null,"the ",(0,r.kt)("inlineCode",{parentName:"p"},"init")," command refers to the process initialization system. It's the first process that gets started by the kernel during system boot, and it's assigned the process ",(0,r.kt)("inlineCode",{parentName:"p"},"ID (PID) of 1")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"which init\n# Output: /usr/bin/init\n\nreadlink -f /usr/bin/init\n# Output: /usr/lib/systemd/systemd\n\nps -p 1\n# Output:\n# PID TTY          TIME CMD\n#   1 ?        00:00:01 systemd\n\npstree -p 1\n# Output:\n# systemd(1)\u2500\u252c\u2500...\n")),(0,r.kt)("h2",{id:"scripts-and-programs-locations"},"Scripts and programs locations"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"nano .profile"),(0,r.kt)("li",{parentName:"ul"},"nano /etc/profile"),(0,r.kt)("li",{parentName:"ul"},"nano ~/.bash_profile"),(0,r.kt)("li",{parentName:"ul"},"nano .bashrc"),(0,r.kt)("li",{parentName:"ul"},"nano /etc/bash.bashrc"),(0,r.kt)("li",{parentName:"ul"},"ls /etc/profile.d/"),(0,r.kt)("li",{parentName:"ul"},"ls ~/.config/autostart"),(0,r.kt)("li",{parentName:"ul"},"ls /etc/xdg/autostart"),(0,r.kt)("li",{parentName:"ul"},"ls /usr/share/xsessions"),(0,r.kt)("li",{parentName:"ul"},"ls -1 /lib/systemd/system/",(0,r.kt)("em",{parentName:"li"},".service /etc/systemd/system/"),".service"),(0,r.kt)("li",{parentName:"ul"},"ls usr/share/dbus-1/system-services/"),(0,r.kt)("li",{parentName:"ul"},"sudo systemctl list-unit-files --type=service --state=enabled --all"),(0,r.kt)("li",{parentName:"ul"},"ls /etc/init.d/"),(0,r.kt)("li",{parentName:"ul"},"nano ~/.xinitrc"),(0,r.kt)("li",{parentName:"ul"},"nano /etc/X11/xinit/xinitrc"),(0,r.kt)("li",{parentName:"ul"},"ls /etc/X11/xinit/xinitrc.d/"),(0,r.kt)("li",{parentName:"ul"},"cat ~/.xserverrc"),(0,r.kt)("li",{parentName:"ul"},"ls /etc/pam.d/"),(0,r.kt)("li",{parentName:"ul"},"ls /etc/rc*"),(0,r.kt)("li",{parentName:"ul"},"cat /etc/xdg/lxsession/LXDE/autostart"),(0,r.kt)("li",{parentName:"ul"},"ls ~/.config/lxsession/LXDE/autostart"),(0,r.kt)("li",{parentName:"ul"},"crontab -e"),(0,r.kt)("li",{parentName:"ul"},"sudo crontab -e"),(0,r.kt)("li",{parentName:"ul"},"ls -rla /etc/cron.*"),(0,r.kt)("li",{parentName:"ul"},"cat /usr/lib/sddm/sddm.conf.d/default.conf"),(0,r.kt)("li",{parentName:"ul"},"cat /etc/sddm.conf.d/00_manjaro_settings.conf")),(0,r.kt)("h1",{id:"automatic-shutdown"},"Automatic Shutdown"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"Command"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"shutdown now")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Shutdown the system immediately.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"shutdown -h +5")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Shutdown the system in 5 minutes.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"shutdown -r now")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Reboot the system immediately.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"shutdown -r +10")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Reboot the system in 10 minutes.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"shutdown -H now")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Halt the system immediately.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"shutdown +5")),(0,r.kt)("td",{parentName:"tr",align:"center"},"Shutdown the system in 5 minutes.")))),(0,r.kt)("h2",{id:"reading-symlinks"},"Reading symlinks"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"readlink /bin/init\n# ../lib/systemd/systemd\n")),(0,r.kt)("h2",{id:"system-info"},"System Info"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"uname -a\n")),(0,r.kt)("h1",{id:"performance"},"Performance"),(0,r.kt)("h2",{id:"disable-linux-watchdogs-compaction-and-more"},"Disable Linux Watchdogs, compaction and more"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo systemctl start systemd-sysctl.service\nsudo systemctl enable systemd-sysctl.service\n\nsudo nano /etc/sysctl.conf\n# And\nsudo nano /etc/sysctl.d/sys.conf\n\nnet.ipv4.tcp_fastopen=3\nnet.ipv4.ip_forward=1\nkernel.nmi_watchdog=0\nkernel.watchdog=0\nvm.compaction_proactiveness=0\nvm.zone_reclaim_mode=0\nvm.page_lock_unfairness=1\nkernel.perf_event_paranoid=-1\nfs.inode-nr=200000\nvm.dirty_background_ratio=5\nvm.vfs_cache_pressure=50\nnet.ipv4.tcp_max_syn_backlog=8192\nnet.ipv4.tcp_tw_reuse=1\nvm.min_free_kbytes=2500000\n")),(0,r.kt)("h2",{id:"improve-fstab-ssd-nvme-performance"},"Improve fstab, ssd, nvme performance"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo nano /etc/fstab \nUUID=f74c37b2-8a12-4252-90a6-d31504507bcb / ext4  defaults,noatime,nodiratime,commit=60,barrier=0  0 1\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'sudo nano /etc/udev/rules.d/60-ioschedulers.rules\n\nACTION=="add|change", KERNEL=="nvme[0-9]n[0-9]", ATTR{queue/scheduler}="none"\n')),(0,r.kt)("h2",{id:"disabling-journaling"},"Disabling journaling"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'sudo tune2fs -f -O "^has_journal" /dev/sda2\n')),(0,r.kt)("h2",{id:"journal-size"},"Journal Size"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo nano /etc/systemd/journald.conf\nSystemMaxUse=100M\nsudo systemctl restart systemd-journald\n")),(0,r.kt)("h1",{id:"install-a-new-os-on-the-phone"},"Install a new os on the phone"),(0,r.kt)("h2",{id:"backup-data"},"Backup data"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo pacman -S android-tools\nsudo adb devices\nadb backup -apk -shared -all -f backup-file.ab\n")),(0,r.kt)("h2",{id:"restore"},"Restore"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"adb restore file.ab\n")),(0,r.kt)("h2",{id:"enable-developer-options"},"Enable Developer options"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Several times clicks on the kernel tab"),(0,r.kt)("li",{parentName:"ul"},"Allow OEM unlocking"),(0,r.kt)("li",{parentName:"ul"},"Enter Download mod:",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"Turn off the phone.  "),(0,r.kt)("li",{parentName:"ol"},"Hold vol key up + down."),(0,r.kt)("li",{parentName:"ol"},'Now in the warning message page. choose "unlocking bootloader" that will perform a factory reset')))),(0,r.kt)("h2",{id:"install-odin-tools-for-samsung--314"},"Install odin tools for Samsung >= 3.14"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://samsungodin.com/"},"https://samsungodin.com/")),(0,r.kt)("h2",{id:"install-samsung-driver"},"Install samsung driver"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://developer.samsung.com/android-usb-driver"},"https://developer.samsung.com/android-usb-driver")),(0,r.kt)("h2",{id:"install-adb"},"Install adb"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://developer.android.com/studio/releases/platform-tools"},"https://developer.android.com/studio/releases/platform-tools")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"adb reboot download\n")),(0,r.kt)("h2",{id:"download-twrp"},"Download TWRP"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.droidthunder.com/install-twrp-recovery-on-galaxy-A10/"},"https://www.droidthunder.com/install-twrp-recovery-on-galaxy-A10/"),"\n",(0,r.kt)("a",{parentName:"p",href:"https://twrp.me/samsung/samsunggalaxya10.html"},"https://twrp.me/samsung/samsunggalaxya10.html")),(0,r.kt)("h2",{id:"convert-it-to-md5"},"convert it to .md5"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.droidthunder.com/convert-img-to-tar-md5/"},"https://www.droidthunder.com/convert-img-to-tar-md5/")),(0,r.kt)("h2",{id:"run-odin-as-administrator"},"Run Odin as administrator"),(0,r.kt)("p",null,"follow the instructions\n",(0,r.kt)("a",{parentName:"p",href:"https://www.droidthunder.com/install-twrp-recovery-on-galaxy-A10/"},"https://www.droidthunder.com/install-twrp-recovery-on-galaxy-A10/")),(0,r.kt)("h1",{id:"windows-11"},"Windows 11"),(0,r.kt)("h2",{id:"make-boatable-usb"},"Make boatable usb"),(0,r.kt)("h2",{id:"woeusb"},"WoeUsb"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"sudo pacman -Suy p7zip python-pip python-wxpython\ngit clone https://github.com/WoeUSB/WoeUSB-ng.git\nsudo pip3 install .\nsudo woeusb --workaround-skip-grub --target-filesystem NTFS --device ~/Win11_22H2_English_x64v1.iso  /dev/sdb\n")),(0,r.kt)("h2",{id:"win2usb"},"Win2USB"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"https://github.com/ValdikSS/windows2usb\nchmod +x windows2usb*\n./windows2usb-0.2.4-x86_64.AppImage /dev/sdb ~/Win11_22H2_English_x64v1.iso gpt+uefintfs\n")),(0,r.kt)("h2",{id:"things-to-do-after-installing-windows-11"},"Things to do after installing Windows 11"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Download and install all the updates"),(0,r.kt)("li",{parentName:"ul"},"Enable Ransomware protection"),(0,r.kt)("li",{parentName:"ul"},"Download DimScreen, Copy it to the download folder. Open. click on the settings. set brightness to 20%. Make a shortcut to the desktop"),(0,r.kt)("li",{parentName:"ul"},"search for gamma calibration in windows settings. set it to minimum"),(0,r.kt)("li",{parentName:"ul"},"Adjust date and time: auto. Timezone tehran +3:30"),(0,r.kt)("li",{parentName:"ul"},"Downloading updates active hours: 24 hours format. 1->11"),(0,r.kt)("li",{parentName:"ul"},"Disable all data usages settings in privacy and security"),(0,r.kt)("li",{parentName:"ul"},"uninstall mail, teams, one drive. xbox, facebook, microsoft todo, sticky notes, tips, weather"),(0,r.kt)("li",{parentName:"ul"},"Install firefox and login"),(0,r.kt)("li",{parentName:"ul"},"Install protonVPN"),(0,r.kt)("li",{parentName:"ul"},"personalize: sunrise"),(0,r.kt)("li",{parentName:"ul"},"network connection: metered connection"),(0,r.kt)("li",{parentName:"ul"},"Display: 3840x2160, 200%"),(0,r.kt)("li",{parentName:"ul"},"Steam: add your games' location to the Games' folder library. make it as default"),(0,r.kt)("li",{parentName:"ul"},"Steam: If your games are in a ",(0,r.kt)("inlineCode",{parentName:"li"},"NTFS")," file system, follow ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/ValveSoftware/Proton/wiki/Using-a-NTFS-disk-with-Linux-and-Windows"},"this")," to make game compatible with Linux."),(0,r.kt)("li",{parentName:"ul"},"Pause windows updates for 5 weeks"),(0,r.kt)("li",{parentName:"ul"},"Check windows startups apps"),(0,r.kt)("li",{parentName:"ul"},"App store: disable automatic update"),(0,r.kt)("li",{parentName:"ul"},'Leave from "AMD user experience program". AMD settings -> last tab -> last option'),(0,r.kt)("li",{parentName:"ul"},"windows features: WSL, virtual machine, hyper-v (for android and linux apps)"),(0,r.kt)("li",{parentName:"ul"},"wsl --update"),(0,r.kt)("li",{parentName:"ul"},"wsl --install -d Ubuntu"),(0,r.kt)("li",{parentName:"ul"},"Disable Error Reporting: WIN+R -> services.msc -> Windows Error Reporting Service -> Properties -> disable")))}p.isMDXComponent=!0}}]);